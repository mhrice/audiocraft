git clone https://github.com/mhrice/audiocraft.git
cd audiocraft
pip install -r requirements.txt
pip install wandb gdown
sed -i '141s/.*/        self.log_metrics(prefix, metrics, step)/' /opt/conda/lib/python3.10/site-packages/flashy/loggers/wandb.py
sed -i '65d' /opt/conda/lib/python3.10/site-packages/flashy/loggers/wandb.py
gdown 1VIzTTZ7Qjp8WFR54qI_zgNKbC__3M1q4
mkdir data
mkdir data/DRAKE_TYPE_BEAT_2023_1
mv DRAKE_TYPE_BEAT_2023_1.zip data/DRAKE_TYPE_BEAT_2023_1
sudo apt-get install -y unzip
cd data/DRAKE_TYPE_BEAT_2023_1
unzip DRAKE_TYPE_BEAT_2023_1.zip
rm -f DRAKE_TYPE_BEAT_2023_1.zip
cd ../..
python train_val_split.py data/DRAKE_TYPE_BEAT_2023_1 
mkdir egs/soundsauce_starter
python -m audiocraft.data.audio_dataset data/train egs/soundsauce_starter/train/data.jsonl
python -m audiocraft.data.audio_dataset data/valid egs/soundsauce_starter/valid/data.jsonl
export USER='soundsauce'
wandb login 0572060962d693913ba75ced5fd5a7e415d6e5a8


dora run solver=musicgen/soundsauce continue_from=//pretrained/facebook/musicgen-small conditioner=text2music model/lm/model_scale=small generate.every=2
